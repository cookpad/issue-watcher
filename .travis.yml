language: python
cache: pip
python:
- '3.6'
matrix:
  include:
  - name: "Python 3.6 on Bionic Linux"
    python: 3.6
    dist: bionic
  - name: "Python 3.7 on Bionic Linux"
    python: 3.7
    dist: bionic
install:
- pip install -r requirements.txt -r requirements-test.txt
script:
- bash test.sh --noinstall --no-update --novirtualenv --strict --no-format
after_success:
- codecov
deploy:
  provider: pypi
  user: "radeklat"
  password:
    secure: p1MgtP5Q4Xz5bf5Amkbcu/O70PBHXkZxwO11rZH0kepQbzhPI6Zgu9mlT8sRsSEykxdBz463hOPhlPTMH4Seb3EUXP34Yt7W26Txk8QyIDXSwFP0qIA3ZiP2HcCiVH+MN/j+g4+TddffWH0G3Z0zytnFe531jNoHxwTpD0YMMwnCRdalM35nnuap8hPLEsL02xP7d2ucgIJd2iaJElsGHHoxsU9/OSulbMn7nYTEDqtaQLoXtAmD8P91w5aneEMwr6pxBZ8K5JMskAartZNIrgwaPRmNRZD9i5lPcgf239+3attNK8CFd6ggba90ca9JSQOTbU+MwJXCF8x5pKphNmlF/1U3dBxta9N0AoxF4UFqulUxNR9T8XY+7zy2bFsI+f8BWGms+/EI37N6XZxj+GRv8HbqzE7x12V7xBZFR+vAZ7hfNOcpc8ejhERTS42XpEe5akXcRHvaiDGsIEXcKh9TtAuIxZR36or+PM0jsEg4ndQuKSB7PTNxVfrNwk2VNbXO4x/OQMoHwMom3Stmu2TEaz+kccPiXkOsU++gqm243sW+z/vs1bOFRxHnH3f0KQLrck4DBlmi30XkPzqvWKXC04Idm6FbAkUcXTRO58MfuybWjWeNXe/L/2frf1y6A7UkTpCVRGg0r2V8lCXsw7n7cDpDQxVGRy1ticAx4uE=
  on:
    branch: master
  skip_existing: true